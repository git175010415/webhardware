{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./web-src/styles/forkme_right_green_007200.svg","webpack:///./web-src/styles/OBWhite_Footer.png","webpack:///./web-src/typedarrays.ts","webpack:///./web-src/webprinter.ts","webpack:///./web-src/printerchunk.ts","webpack:///./web-src/usb.ts","webpack:///./web-src/epsontmt88v.ts","webpack:///./web-src/bluetooth.ts","webpack:///./web-src/btgeneric.ts","webpack:///./web-src/app.tsx","webpack:///./web-src/index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","arrays8append","a1","a2","tmp","Uint8Array","set","byteLength","ESCPOS","encoderText","TextEncoder","NEW_LINE","PARTIAL_CUT_1","CHAR_SIZE_0","CHAR_SIZE_1","CHAR_SIZE_2","CHAR_SIZE_3","BOLD_SET","BOLD_RESET","UNDERLINE_SET","UNDERLINE_RESET","CENTER_JUSTIFICATION","LEFT_JUSTIFICATION","RIGHT_JUSTIFICATION","DRAWER_OPEN","WEBPrinter","constructor","printertype","this","webdevice","createWebDevice","connected","request","doc","dom","DOMParser","parseFromString","documentElement","nodeName","printerdocs","processDOM","sendData","el","children","processOutput","output","processTicket","processLine","fontsize","getAttribute","txt","textContent","bold","uderline","encode","async","arrays8print","printChunk","size","USB","device","navigator","usb","addEventListener","event","onDisconnected","requestDevice","filters","vendorId","productId","open","selectConfiguration","claimInterface","close","transferOut","chunk","buffer","EPSONTMT88V","Bluetooth","buffersize","server","service","characteristic","bluetooth","acceptAllDevices","optionalServices","services","alert","gatt","connect","getPrimaryService","getCharacteristic","error","writeValue","BTGENERIC","App","Component","props","super","state","text","usbwebprinter","btwebprinter","printer","print","evt","printText","updateText","setState","target","render","href","src","githubribbon","style","position","top","right","alt","className","openbravologo","width","onClick","handleClickUSB","handleClickBT","onChange","rows","cols","serviceWorker","register","catch","registrationError","console","warn","ReactDOM","document","getElementById"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([10,2,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"9d7e350fe8d0c6126bfe70a740ee51b3.svg\";","module.exports = __webpack_public_path__ + \"2ca58affeb0afeaea2c7976fdeac64ec.png\";","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nexport function arrays8append(a1: Uint8Array, a2: Uint8Array): Uint8Array {\n  const tmp = new Uint8Array(a1.length + a2.length);\n  tmp.set(a1, 0);\n  tmp.set(a2, a1.byteLength);\n  return tmp;\n}\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport { PrinterType, WebDevice } from './printertype';\nimport { arrays8append } from './typedarrays';\n\nconst ESCPOS = {\n  encoderText: new TextEncoder(),\n  NEW_LINE: new Uint8Array([0x0d, 0x0a]),\n  PARTIAL_CUT_1: new Uint8Array([0x1b, 0x69]),\n\n  CHAR_SIZE_0: new Uint8Array([0x1d, 0x21, 0x00]),\n  CHAR_SIZE_1: new Uint8Array([0x1d, 0x21, 0x01]),\n  CHAR_SIZE_2: new Uint8Array([0x1d, 0x21, 0x30]),\n  CHAR_SIZE_3: new Uint8Array([0x1d, 0x21, 0x31]),\n\n  BOLD_SET: new Uint8Array([0x1b, 0x45, 0x01]),\n  BOLD_RESET: new Uint8Array([0x1b, 0x45, 0x00]),\n  UNDERLINE_SET: new Uint8Array([0x1b, 0x2d, 0x01]),\n  UNDERLINE_RESET: new Uint8Array([0x1b, 0x2d, 0x00]),\n\n  CENTER_JUSTIFICATION: new Uint8Array([0x1b, 0x61, 0x01]),\n  LEFT_JUSTIFICATION: new Uint8Array([0x1b, 0x61, 0x00]),\n  RIGHT_JUSTIFICATION: new Uint8Array([0x1b, 0x61, 0x02]),\n\n  DRAWER_OPEN: new Uint8Array([0x1b, 0x70, 0x00, 0x32, -0x06])\n};\n\nexport class WEBPrinter {\n  webdevice: WebDevice;\n\n  constructor(printertype: PrinterType) {\n    this.webdevice = printertype.createWebDevice();\n  }\n\n  connected() {\n    return this.webdevice.connected();\n  }\n\n  async request() {\n    await this.webdevice.request();\n  }\n\n  async print(doc: string): Promise<void> {\n    const parser: DOMParser = new DOMParser();\n    const dom: Document = parser.parseFromString(doc, 'application/xml');\n\n    if (dom.documentElement.nodeName === 'parsererror') {\n      throw 'Error while parsing XML template.';\n    }\n\n    const printerdocs: Uint8Array = await this.processDOM(dom);\n    if (printerdocs.length > 0) {\n      await this.webdevice.sendData(printerdocs);\n    }\n  }\n\n  async processDOM(dom: Document): Promise<Uint8Array> {\n    for (let el of dom.children) {\n      if (el.nodeName === 'output') {\n        return await this.processOutput(el);\n      }\n    }\n    return new Uint8Array();\n  }\n\n  async processOutput(dom: Element): Promise<Uint8Array> {\n    let output = new Uint8Array();\n    for (let el of dom.children) {\n      if (el.nodeName === 'ticket') {\n        output = arrays8append(output, await this.processTicket(el));\n      } else if (el.nodeName === 'opendrawer') {\n        output = arrays8append(output, ESCPOS.DRAWER_OPEN);\n      }\n    }\n    return output;\n  }\n\n  async processTicket(dom: Element): Promise<Uint8Array> {\n    let output = new Uint8Array();\n    for (let el of dom.children) {\n      if (el.nodeName === 'line') {\n        output = arrays8append(output, await this.processLine(el));\n        output = arrays8append(output, ESCPOS.NEW_LINE);\n      }\n    }\n    output = arrays8append(output, ESCPOS.NEW_LINE);\n    output = arrays8append(output, ESCPOS.NEW_LINE);\n    output = arrays8append(output, ESCPOS.NEW_LINE);\n    output = arrays8append(output, ESCPOS.NEW_LINE);\n    output = arrays8append(output, ESCPOS.PARTIAL_CUT_1);\n    return output;\n  }\n\n  async processLine(dom: Element): Promise<Uint8Array> {\n    let output: Uint8Array = new Uint8Array();\n    const fontsize: string | null = dom.getAttribute('size');\n\n    if (fontsize === '1') {\n      output = arrays8append(output, ESCPOS.CHAR_SIZE_1);\n    } else if (fontsize === '2') {\n      output = arrays8append(output, ESCPOS.CHAR_SIZE_2);\n    } else if (fontsize === '3') {\n      output = arrays8append(output, ESCPOS.CHAR_SIZE_3);\n    } else {\n      output = arrays8append(output, ESCPOS.CHAR_SIZE_0);\n    }\n    for (let el of dom.children) {\n      if (el.nodeName === 'text') {\n        const txt = el.textContent;\n\n        if (txt) {\n          const bold = el.getAttribute('bold');\n          const uderline = el.getAttribute('underline');\n\n          if (bold === 'true') {\n            output = arrays8append(output, ESCPOS.BOLD_SET);\n          }\n          if (uderline === 'true') {\n            output = arrays8append(output, ESCPOS.UNDERLINE_SET);\n          }\n          output = arrays8append(output, ESCPOS.encoderText.encode(txt));\n          if (bold === 'true') {\n            output = arrays8append(output, ESCPOS.BOLD_RESET);\n          }\n          if (uderline === 'true') {\n            output = arrays8append(output, ESCPOS.UNDERLINE_RESET);\n          }\n        }\n      }\n    }\n    return output;\n  }\n}\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nexport type PrintChunk = (data: Uint8Array) => Promise<void>;\n\nexport async function arrays8print(\n  printChunk: PrintChunk,\n  size: number,\n  data: Uint8Array\n) {\n  for (let i = 0; i < data.length; i += size) {\n    await printChunk(data.slice(i, i + size));\n  }\n}\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport { PrintChunk, arrays8print } from './printerchunk';\nimport { WebDevice } from './printertype';\n\nexport interface USBPrinterType {\n  vendorId: number;\n  productId: number;\n}\n\nexport class USB implements WebDevice {\n  printertype: USBPrinterType;\n  device: USBDevice | null;\n\n  constructor(printertype: USBPrinterType) {\n    this.printertype = printertype;\n    this.device = null;\n\n    if (navigator.usb && navigator.usb.addEventListener) {\n      navigator.usb.addEventListener(\n        'disconnect',\n        (event: USBConnectionEvent) => {\n          if (event.device === this.device) {\n            this.onDisconnected();\n          }\n        }\n      );\n    }\n  }\n\n  connected(): boolean {\n    return this.device !== null;\n  }\n\n  async request(): Promise<void> {\n    if (!navigator.usb || !navigator.usb.requestDevice) {\n      throw 'USB not supported.';\n    }\n\n    this.device = await navigator.usb.requestDevice({\n      filters: [\n        {\n          vendorId: this.printertype.vendorId,\n          productId: this.printertype.productId\n        }\n      ]\n    });\n  }\n\n  async sendData(data: Uint8Array): Promise<void> {\n    if (!this.device) {\n      throw 'Device is not connected.';\n    }\n    try {\n      await this.device.open();\n\n      await this.device.selectConfiguration(1);\n      await this.device.claimInterface(0);\n      await arrays8print(this.printChunk(), 64, data);\n      await this.device.close();\n    } finally {\n      this.onDisconnected();\n    }\n  }\n\n  printChunk(): PrintChunk {\n    return async (chunk: Uint8Array) => {\n      if (this.device === null) {\n        throw 'device is null';\n      }\n      await this.device.transferOut(1, chunk.buffer);\n    };\n  }\n\n  onDisconnected(): void {\n    this.device = null;\n  }\n}\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport { USB } from './usb';\nimport { PrinterType } from './printertype';\n\nexport const EPSONTMT88V: PrinterType = {\n  name: 'EPSON TM T88V',\n  createWebDevice: () =>\n    new USB({\n      vendorId: 0x04b8,\n      productId: 0x0202\n    })\n};\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport { PrintChunk, arrays8print } from './printerchunk';\nimport { WebDevice } from './printertype';\n\nexport interface BTPrinterType {\n  services: string[];\n  characteristic: string;\n  buffersize: number;\n}\n\nexport class Bluetooth implements WebDevice {\n  printertype: BTPrinterType;\n  size: number;\n  device: BluetoothDevice | null;\n  server: BluetoothRemoteGATTServer | null;\n  service: BluetoothRemoteGATTService | null;\n  characteristic: BluetoothRemoteGATTCharacteristic | null;\n\n  constructor(printertype: BTPrinterType) {\n    this.printertype = printertype;\n    this.size = this.printertype.buffersize;\n    this.device = null;\n    this.server = null;\n    this.service = null;\n    this.characteristic = null;\n  }\n\n  connected(): boolean {\n    return this.device !== null;\n  }\n\n  async request(): Promise<void> {\n    if (!navigator.bluetooth || !navigator.bluetooth.requestDevice) {\n      throw 'Bluetooth not supported.';\n    }\n\n    this.device = await navigator.bluetooth.requestDevice({\n      acceptAllDevices: true,\n      optionalServices: this.printertype.services\n    });\n    alert('device ' + this.device.name);\n  }\n\n  async sendData(data: Uint8Array): Promise<void> {\n    if (!this.device || !this.device.gatt) {\n      throw 'Device is not connected.';\n    }\n\n    try {\n      if (!this.characteristic) {\n        this.server = await this.device.gatt.connect();\n        this.service = await this.server.getPrimaryService(\n          this.printertype.services[0]\n        );\n        this.characteristic = await this.service.getCharacteristic(\n          this.printertype.characteristic\n        );\n      }\n      await arrays8print(this.printChunk(), this.size, data);\n    } catch (error) {\n      this.onDisconnected();\n      throw error;\n    }\n  }\n\n  printChunk(): PrintChunk {\n    return async (chunk: Uint8Array) => {\n      if (this.characteristic === null) {\n        throw 'device is null';\n      }\n      await this.characteristic.writeValue(chunk);\n    };\n  }\n\n  onDisconnected() {\n    this.device = null;\n    this.server = null;\n    this.service = null;\n    this.characteristic = null;\n  }\n}\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport { Bluetooth } from './bluetooth';\nimport { PrinterType } from './printertype';\n\nexport const BTGENERIC: PrinterType = {\n  name: 'Generic Bluetooth Receipt Printer',\n  createWebDevice: () =>\n    new Bluetooth({\n\n      //services: ['e7810a71-73ae-499d-8c15-faa9aef0c3f2'],\n      services: ['00001101-0000-1000-8000-00805F9B34FB'],\n      //characteristic: 'bef8d6c9-9c21-4c9e-b632-bd58c1009f9f',\n      characteristic: '00001101-0000-1000-8000-00805F9B34FB',\n      buffersize: 20\n    })\n};\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport React, { Component } from 'react';\nimport { WEBPrinter } from './webprinter';\nimport { EPSONTMT88V } from './epsontmt88v';\nimport { BTGENERIC } from './btgeneric';\n\nimport githubribbon from './styles/forkme_right_green_007200.svg';\nimport openbravologo from './styles/OBWhite_Footer.png';\n\nexport interface AppProps { }\n\nexport interface AppState {\n  text: string;\n}\n\nexport class App extends Component<AppProps, AppState> {\n  usbwebprinter: WEBPrinter;\n  btwebprinter: WEBPrinter;\n\n  constructor(props: AppProps) {\n    super(props);\n    this.state = {\n      text: `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<output>\n  <ticket>\n  <line size=\"1\">\n    <text>Lorem ipsum</text>\n  </line>\n  <line>\n    <text>dolor sit amet,</text>\n  </line>  \n  <line>\n    <text>consectetur adipiscing elit,</text>\n  </line>  \n  <line>\n    <text>do eiusmod </text>\n    <text bold=\"true\">tempor incididunt</text>\n  </line>\n  <line>\n    <text>ut </text>\n    <text underline=\"true\">labore et dolore</text>\n    <text> magna aliqua.</text>\n  </line> \n  </ticket>\n</output>`\n    };\n\n    this.usbwebprinter = new WEBPrinter(EPSONTMT88V);\n    this.btwebprinter = new WEBPrinter(BTGENERIC);\n  }\n\n  async printText(printer: WEBPrinter) {\n    try {\n      if (!printer.connected()) {\n        await printer.request();\n      }\n      await printer.print(this.state.text);\n      alert('Success.');\n    } catch (error) {\n      alert('Cannot printï¼š' + error);\n    }\n  }\n\n  async handleClickUSB(\n    evt: React.MouseEvent<HTMLButtonElement>\n  ): Promise<void> {\n    await this.printText(this.usbwebprinter);\n  }\n\n  async handleClickBT(evt: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n    await this.printText(this.btwebprinter);\n  }\n\n  updateText(evt: React.ChangeEvent<HTMLTextAreaElement>): void {\n    this.setState({\n      text: evt.target.value\n    });\n  }\n\n  render(): JSX.Element {\n    return (\n      <div>\n        <a href=\"https://github.com/adrianromeroopenbravo/webhardware\">\n          <img\n            src={githubribbon}\n            style={{ position: 'absolute', top: 0, right: 0 }}\n            alt=\"Fork me on GitHub\"\n          />\n        </a>\n        <h1 className=\"title\">\n          <a href=\"https://www.openbravo.com\">\n            <img\n              src={openbravologo}\n              style={{ width: '4em' }}\n              alt=\"Openbravo, S.L.U.\"\n            />\n          </a>\n          &nbsp;Web Hardware\n        </h1>\n        <div>\n          <button className=\"action\" onClick={evt => this.handleClickUSB(evt)}>\n            PRINT (WebUSB)\n          </button>\n          <button className=\"action\" onClick={evt => this.handleClickBT(evt)}>\n            PRINT (WebBluetooth)\n          </button>\n        </div>\n        <div>\n          <textarea\n            className=\"document-editor\"\n            onChange={evt => this.updateText(evt)}\n            rows={30}\n            cols={40}\n          >\n            {this.state.text}\n          </textarea>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n ************************************************************************************\n * Copyright (C) 2019 Openbravo S.L.U.\n * Licensed under the Apache Software License version 2.0\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to  in writing,  software  distributed\n * under the License is distributed  on  an  \"AS IS\"  BASIS,  WITHOUT  WARRANTIES  OR\n * CONDITIONS OF ANY KIND, either  express  or  implied.  See  the  License  for  the\n * specific language governing permissions and limitations under the License.\n ************************************************************************************\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './app';\nimport './styles/main.css';\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker\n      .register('./service-worker.js')\n      .catch(registrationError => {\n        console.warn('SW registration failed: ', registrationError);\n      });\n  });\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}